# Лабораторна робота 3
## Тема: 
Даталогічна модель бази даних.
## Мета: 
Навчитися будувати даталогічну модель по існуючій інфологічній моделі предметної області. Освоїти і застосувати на практиці процес нормалізації бази даних на основі даталогічної моделі. 

### Теоретичні відомості

Етапи створення бази даних (БД) – це узагальнений алгоритм поетапної реалізації ідеї опису деякої частини реального світу, що цікавить певну групу людей чи одного конкретного індивідуума.
1. Аналіз предметної області проектування. 
2. Визначення базових вимог до проекту БД.
3. Інфологічне проектування.
4. Визначення вимог до операційного середовища.
5. Вибір конкретної СУБД.
6. **Даталогічне проектування** – перетворення інфологічної моделі в модель фізичного представлення бази даних – схему бази даних.
7. Фізичне проектування.
8. Фізична реалізація.
Перетворення ER-діаграми в схему бази даних – неформальне визначення даталогічного проектування. 

Зауваження: Даталогічна модель відображає логічні взаємозв’язки між елементами без їхнього вмісту та фізичної організації. На моделі все ще відсутні типи даних, але сама схема – нормалізована.


При побудові даталогічної моделі необхідно вже застосовувати обмеження цілісності. Визначення обмежень цілісності:
Унікальність значення первинного ключа (PRIMARY KEY)
Унікальність ключового поля чи комбінації значень ключових полів (UNIQUE)
Введення порожніх значень (NOT NULL / NULL)
Задання умови на значення атрибуту (CHECK)
Введення зовнішніх ключів (FOREIGN KEY)
Якщо яке-небудь обмеження цілісності неможливо реалізувати використовуючи приведені способи, то можливе застосування: тригерів, функцій, процедур, що зберігаються, програмне втручання (етап фізичного проектування для конкретної реляційної СУБД).


Однією з найпопулярніших семантичних моделей даних є неформальна
модель «Сутність-зв’язок» (Entity-Relationship – ER-модель).

# Хід роботи.

## 1. Таблиця сутностей та їх атрибутів:

Виділимо базові сутності цієї предметної області: 
| Сутності                  | Атрибути |
| --- | --- |
| Співробітники компанії    | ID Співробітника, Оклад, Прізвище, Ім'я, По-батькові, Зміна, ІПН, Телефон, Адреса, Примітка   |
| Список Директорів         | ID Директора, ID співробітника |
| Список Пекарів            | ID Пекаря, ID співробітника |
| Список Кур'єрів           | ID Кур'єра, ID співробітника |
| Замовники                 | ID Замовника, Назва Компанії, Адреса, ІПН, Телефон, Примітка   |
| Договори                  | ID Договору, Дата підписання договору, Зміст, Список замовлень, ID Замовника, ID Директора, Дата закінчення терміну дії договору, Примітка  |
| Список замовлень          | ID Списка замовлень, ID Договору, ID замовлення   |
| Замовлення                | ID Замовлення, Дата Створення, Список виробів, Стан, ID Кур'єра    |
| Список виробів            | ID Списка виробів, ID замовлення, ID виробу   |
| Вироби                    | ID Виробу, Назва, Ціна, Дата виготовлення, Строк придатності, Рецепт, ID Пекаря, Примітка   |
| Рецепт                    | ID Рецепту, ID Виробу, ID сировини    |
| Cировина                  | ID Сировини, Назва, Ціна, Дата виготовлення, Строк придатності, Примітка  |

## 2. Класифікація Зв'язків:

| Зв'язок   | Опис  |
|   ---     |   --- |
| Співробітники-Пекарі (Список) - "є"       | ID пекаря, ID співробітника           |
| Співробітники-Директори (Список) - "є"    | ID директора, ID співробітника        |
| Співробітники-Кур'єри (Список) - "є"      | ID кур'єра, ID співробітника          |
| Замовник-Договір - "створювати"           | ID замовника, ID договору             |
| Директор-Договір - "затверджувати"        | ID договору, ID директора             |
| Договір-Список Замовлень - "Має"          | ID договору, ID списка замовлень      |
| Список Замовлень- Замовлення - "Включати" | ID списка замовлень, ID замовлення    |
| Кур'єр-Замовлення - "доставляти"          | ID замовлення, ID кур'єра             |
| Замовлення-Вироби - "Включати"            | ID замовлення, ID виробу              |
| Пекар-Вироби - "створювати"               | ID пекаря, ID виробу                  |
| Вироби - Рецепт "має"                     | ID виробу, ID рецепту                 |
| Рецепт-Сировина - "включати"              | ID рецепту, ID сировини               |

## 3. Інфологічна модель (нотація Чена):

![Діаграма:](https://github.com/MonMon201/DB/blob/master/src/ER.png)

## 4. Нормалізація:

### 4.1. 
Для забезпечення виконання умов 1НФ в таблиці «Співробітники» атрибут «ПІБ», що є надлишковим (складним) буде розбито на три окремі атрибути: «Імʼя», «Прізвище» та «По батькові» відповідно. «Телефон» єдиний для кожного співробітника.
### 4.2. 
Модель вже виконує умови 2НФ, так як всі дані з частичною функціональною залежністю винесені в окремі таблиці (сутності). Усі таблиці мають ідентифікатор. Також завдяки звʼязкам відсутня надмірність — дані сутностей повʼязані між собою.
### 4.3. 
Модель так само вже знаходиться в 3НФ, бо відсутні транзитивні залежності між якимось атрибутами. «Замовлення» - сутності, які утворюються на основі сутності «Договір», винесені в окремі сутності, зовнішні ключі яких знаходяться у «Списоку замовлень». Така сама логіка для «Виробів». В нас є сутність «Замовлення», вона містить зовнішній ключ на «Список виробів», який у свою чергу містить зовнішній ключ на «Вироби». Для реалізації зв'язку посада-співробітник, існують окремі таблиці, по типу «Список Пекарів». Кожна з них має посилання на ідентифікатор «Співробітника».

## 5. Даталогічна модель (нотація Чена):

![Діаграма:](https://github.com/MonMon201/DB/blob/master/src/DLM.png)